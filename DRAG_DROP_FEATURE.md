# ููุฒุฉ ุงูุณุญุจ ูุงูุฅููุงุช (Drag & Drop) ๐ฏ

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ุฎุงุตูุฉ ุงูุณุญุจ ูุงูุฅููุงุช ูุชุบููุฑ ุชุฑุชูุจ ุงูููุงุญุธุงุช ุจุณูููุฉ ูุณูุงุณุฉ.

## โจ ุงููููุฒุงุช

### 1. **ุงูุณุญุจ ูุงูุฅููุงุช**
- ๐ฑ๏ธ ุงุณุญุจ ุฃู ููุงุญุธุฉ
- ๐ ุฃููุชูุง ููู ููุงุญุธุฉ ุฃุฎุฑู
- โ ูุชู ุชุบููุฑ ุงูุชุฑุชูุจ ุชููุงุฆูุงู

### 2. **ุงูุชุฃุซูุฑุงุช ุงูุจุตุฑูุฉ**

#### ุฃุซูุงุก ุงูุณุญุจ:
- ๐ฆ **ุงูููุงุญุธุฉ ุงููุณุญูุจุฉ**: ูุณุฎุฉ ููุจุฑุฉ ููููุงู (105%) ูุน ุธู ููู
- ๐ป **ุงูููุงุญุธุฉ ุงูุฃุตููุฉ**: ุดูุงููุฉ 20%
- ๐ฏ **ุงูููุทูุฉ ุงููุณุชูุฏูุฉ**: 
  - ุญุฏูุฏ ุฒุฑูุงุก ุนูุฏ ุงูุชูุฑูุฑ
  - ุดูุงููุฉ 70%

#### ูุคุดุฑ ุงูุณุญุจ:
- ๐ ุฎุท ุฑููุน ูู ุฃุนูู ูู ููุงุญุธุฉ ูุดูุฑ ูุฅููุงููุฉ ุงูุณุญุจ

### 3. **ุฑุฏูุฏ ุงููุนู ุงูููุณูุฉ (Haptic Feedback)**
- ๐ณ ุงูุชุฒุงุฒ ูุชูุณุท ุนูุฏ ุจุฏุก ุงูุณุญุจ
- ๐ณ ุงูุชุฒุงุฒ ููู ุนูุฏ ุฅููุงุช ุงูููุงุญุธุฉ
- ๐ณ ุงูุชุฒุงุฒ ุฎููู ุนูุฏ ุงููุจูู

## ๐ฎ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุทุฑููุฉ ุงูุฃููู (ุงูููุตู ุจูุง):
1. ุงุถุบุท ูุงุณุญุจ ุงูููุงุญุธุฉ ูุจุงุดุฑุฉ
2. ุญุฑู ุฅุตุจุนู/ุงููุงูุณ ุฅูู ุงููููุน ุงูุฌุฏูุฏ
3. ุฃููุช ุงูููุงุญุธุฉ ููู ููุงุญุธุฉ ุฃุฎุฑู
4. โ ูุชู ุชุญุฏูุซ ุงูุชุฑุชูุจ ุชููุงุฆูุงู

### ุงูุชูุงูู ูุน ุงูุฎุตุงุฆุต ุงูุฃุฎุฑู:
- โ **ููุฑุฉ ุนุงุฏูุฉ**: ูุชุญ ุงูููุงุญุธุฉ ููุชุนุฏูู
- โ **ุถุบุทุฉ ูุทููุฉ**: ุฅุธูุงุฑ ูุงุฆูุฉ ุงูุฅุฌุฑุงุกุงุช ูู AppBar
- โ **ุงูุณุญุจ**: ุชุบููุฑ ุงูุชุฑุชูุจ

## ๐ง ุงูุชุทุจูู ุงูุชููู

### NoteCard Component
```dart
// Draggable Widget
Draggable<String>(
  data: note.id,
  feedback: Transform.scale(scale: 1.05, child: cardWidget),
  childWhenDragging: Opacity(opacity: 0.2, child: cardWidget),
  onDragStarted: () => HapticFeedback.mediumImpact(),
  onDragEnd: (details) => ...,
)

// DragTarget Widget
DragTarget<String>(
  onWillAcceptWithDetails: (details) => details.data != note.id,
  onAcceptWithDetails: (details) => onReorder!(details.data, note.id),
  builder: (context, candidateData, rejectedData) => ...,
)
```

### NotesRepository
```dart
Future<void> reorderNote(
  String pageId, 
  String folderId, 
  String draggedNoteId, 
  String targetNoteId
) async {
  // ุงูุจุญุซ ุนู ุงูููุงุญุธุชูู
  final draggedIndex = folder.notes.indexWhere((n) => n.id == draggedNoteId);
  final targetIndex = folder.notes.indexWhere((n) => n.id == targetNoteId);
  
  // ุฅุนุงุฏุฉ ุงูุชุฑุชูุจ ูู ุงูุฐุงูุฑุฉ
  final draggedNote = folder.notes.removeAt(draggedIndex);
  folder.notes.insert(targetIndex, draggedNote);
  
  // ุญูุธ ุงูุชุฑุชูุจ ุงูุฌุฏูุฏ
  await _persistAllNotes();
}
```

## ๐ฑ ุงูุชูุงูู

### ุงูุฃุฌูุฒุฉ ุงููุฏุนููุฉ:
- โ Android
- โ iOS
- โ Windows
- โ macOS
- โ Web (ูุน ุงููุงูุณ)

### ุงูุฅุตุฏุงุฑุงุช:
- Flutter: 3.0+
- Dart: 2.17+

## ๐จ ุงูุชุฎุตูุต

### ุงูุฃููุงู:
- ๐ต **ุญุฏูุฏ ุงููุฏู**: `Colors.blue.withOpacity(0.5)`
- ๐ป **ุดูุงููุฉ ุฃุซูุงุก ุงูุณุญุจ**: `0.2`
- ๐ฏ **ุดูุงููุฉ ุงููุฏู**: `0.7`

### ุงูุฃุญุฌุงู:
- ๐ **ุชูุจูุฑ feedback**: `1.05x`
- ๐ **ุนุฑุถ ุงูุญุฏูุฏ**: `2px`
- ๐ **ูุคุดุฑ ุงูุณุญุจ**: `32x4px`

## ๐ก ูุตุงุฆุญ ุงูุงุณุชุฎุฏุงู

1. **ุงูุณุญุจ ุงูุณูุณ**: ุงุณุญุจ ุงูููุงุญุธุฉ ุจุญุฑูุฉ ุณูุณุฉ
2. **ุงูุฅููุงุช ุงูุฏููู**: ุฃููุช ุงูููุงุญุธุฉ ุจุงูุถุจุท ููู ุงููุฏู
3. **ุงูุชุญุฏูุซ ุงูููุฑู**: ุงูุชุบููุฑุงุช ุชุญูุธ ุชููุงุฆูุงู
4. **ุงูุชุฑุงุฌุน**: ุงุณุชุฎุฏู ุฒุฑ ุงูุฑุฌูุน ูุฅูุบุงุก ุงูุชุบููุฑุงุช

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุณุญุจ ูุง ูุนูู
**ุงูุญู**: 
- ุชุฃูุฏ ูู ุฃู `onReorder` ููุฑุฑ ููู NoteCard
- ุชุญูู ูู ุณุฌูุงุช debug ููุฑุณุงุฆู

### ุงููุดููุฉ: ุงูุชุฑุชูุจ ูุง ูุญูุธ
**ุงูุญู**:
- ุชุญูู ูู `_persistAllNotes()` ูู Repository
- ุฑุงุฌุน ุฃุฐููุงุช ุงูุชุฎุฒูู

### ุงููุดููุฉ: ุงูุณุญุจ ุจุทูุก
**ุงูุญู**:
- ููู ุญุฌู `feedback` widget
- ููู ุนุฏุฏ ุงูุชุฃุซูุฑุงุช ุงูุจุตุฑูุฉ

## ๐ ุงูุฃุฏุงุก

- โก **ุฒูู ุงูุงุณุชุฌุงุจุฉ**: < 16ms (60fps)
- ๐พ **ุงุณุชููุงู ุงูุฐุงูุฑุฉ**: ููุฎูุถ ุฌุฏุงู
- ๐ **ุงุณุชููุงู ุงูุจุทุงุฑูุฉ**: ูุง ููุฌุฏ ุชุฃุซูุฑ ููุญูุธ

## ๐ฏ ุฎุทุท ูุณุชูุจููุฉ

- [ ] ุฏุนู ุณุญุจ ุนุฏุฉ ููุงุญุธุงุช
- [ ] ุฅุถุงูุฉ animations ุฃูุซุฑ ุณูุงุณุฉ
- [ ] ุฅุถุงูุฉ ุตูุช ุนูุฏ ุงูุณุญุจ (ุงุฎุชูุงุฑู)
- [ ] ุฏุนู ุงูุณุญุจ ุจูู ุงููุฌูุฏุงุช ุงููุฎุชููุฉ
- [ ] ุญูุธ ุงูุชุฑุชูุจ ุงููุฎุตุต ูู SQLite

## ๐ ุงูุชุญุฏูุซุงุช

### ุงูุฅุตุฏุงุฑ 1.0 (7 ุฃูุชูุจุฑ 2025)
- โ ุฅุถุงูุฉ ุงูุณุญุจ ูุงูุฅููุงุช ุงูุฃุณุงุณู
- โ ุงูุชุฃุซูุฑุงุช ุงูุจุตุฑูุฉ
- โ Haptic Feedback
- โ ุญูุธ ุงูุชุฑุชูุจ ุชููุงุฆูุงู
- โ ูุคุดุฑ ุงูุณุญุจ ุงูุจุตุฑู

---

**ููุงุญุธุฉ**: ุฌููุน ุงูุชุบููุฑุงุช ุชุญูุธ ุชููุงุฆูุงู ููุง ุชุญุชุงุฌ ุชุฃููุฏ ูู ุงููุณุชุฎุฏู.
